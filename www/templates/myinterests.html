<ion-view view-title="My Interested Gigs" ng-controller="MyInterestedGigsCtrl">
  <ion-content>
    <ion-refresher pulling-text="Pull to refresh..." on-refresh="getMyInterests()"></ion-refresher>
    <label class="item item-input">
      <i class="icon ion-search placeholder-icon"></i>
      <input type="search" placeholder="Search" ng-model="query">
    </label>
    <div class="list card" ng-repeat="gig in interests | filter: query | reverse">
     
      <!--a class="button button-icon icon ion-flag icon-left" style="color: #444; width: 2%;" ng-click="flagGig(gig._id, gig.hidden, gig.flagged)">
      </a ng-click="getDescription(gig.description,gig._id, gig.hidden, gig.flagged)">-->    

      <div class="item header"  >
        <div ng-click="updateGigModal(gig)"> 
          <h2>Lookin4: {{gig.position}}</h2>
          <p>Rate: ${{gig.rate}}</p>
          <p>Date: {{gig.date|toDateString}}</p>
          <div ng-if="gig.location">
            <p>Location: {{gig.location}}</p>
          </div>
          <p>Requested by: {{gig.name}}</p>
        </div>
        <div class="item header" >
          <div ng-click="showMessages(gig.userid, gig.name)">
            <div ng-switch on = messagesNotSeen[gig.userid]>            
            <div ng-switch-when = 1>
               <span class="badge badge-assertive">1</span>
              <!--i class='icon ion-chatbubble mssg-custom-icon'></i--> 
            </div>
            <div ng-switch-default>
            </div>
          </div>
          <div>
          <img ng-src="http://graph.facebook.com/{{gig.userid}}/picture?width=270&height=270" />
              <div>
                <img ng-src="https://raw.githubusercontent.com/orealeb/Table-stylesheet/master/sendmessage2.png" class="sendmessage" />
              </div>
        </div>
      </div>
      </div>  
    </div>
  </ion-content>
</ion-view>
